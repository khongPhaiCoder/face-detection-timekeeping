<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('../partials/head'); %>
  </head>
  <body>
    <header><%- include('../partials/header'); %></header>
    <% function convertMinutesToHours(minutes) { %> <% var hours =
    Math.floor(minutes / 60); %> <% var remainingMinutes = minutes % 60; %> <%
    return hours + " giờ " + remainingMinutes + " phút"; %> <% } %>
    <main>
      <div class="container">
        <h2 style="padding-top: 60px"><%= %></h2>
        <!-- Example single danger button -->
        <div class="btn-group">
          <button
            type="button"
            class="btn btn-success dropdown-toggle"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            Chọn tháng
          </button>
          <ul class="dropdown-menu">
            <% for (let i = 0; i < months.length; i++) { %>
            <li>
              <a
                class="dropdown-item"
                href="/timeAnalysis/monthly/<%= months[i] %>"
                >Tháng <%= months[i] %></a
              >
            </li>
            <% } %>
          </ul>
        </div>
        <table class="table">
          <thead>
            <tr>
              <!-- <th scope="col">#</th> -->
              <th scope="col">Tên nhân viên</th>
              <th scope="col">Số giờ làm việc tối thiểu</th>
              <th scope="col">Số giờ làm việc thực tế</th>
              <th scope="col">Lương cơ bản</th>
              <th scope="col">Lương thực nhận</th>
            </tr>
          </thead>

          <tbody>
            <% for (let i = 0; i < users.length; i++) { %>
            <tr>
              <!-- <th scope="row">1</th> -->
              <td><%= users[i].name %></td>
              <td>160</td>
              <td><%= convertMinutesToHours(users[i].time) %></td>
              <td><%= (users[i].salaryBase) %></td>
              <td>
                <% let hours =Math.floor(users[i].time / 60)%> <% if (hours >
                160) { %> <%= Number(users[i].salaryBase) +
                Number(users[i].salaryBase)/160*1.5*(hours-160) %> <% } else {%>
                <%= Number(users[i].salaryBase)/160*(hours) %> <% } %>
              </td>
            </tr>
            <% } %>
          </tbody>
        </table>
      </div>
    </main>

    <!-- <%- include('../partials/footer'); %> -->
  </body>
</html>
